using System;
using System.Threading.Tasks;
using Customer.Portal.Entities;
using Volo.Abp.Data;
using Volo.Abp.DependencyInjection;
using Volo.Abp.Domain.Repositories;
using Volo.Abp.Guids;

namespace Customer.Portal.DbMigrator.DataSeeders;

public class EmailTemplateDataSeedContributor : IDataSeedContributor, ITransientDependency
{

    #region Fields
    
    private readonly IRepository<EmailTemplate, Guid> _emailTemplateRepository;
    private readonly IGuidGenerator _guidGenerator;

    #endregion
    
    #region Ctor

    public EmailTemplateDataSeedContributor(IRepository<EmailTemplate, Guid> emailTemplateRepository, IGuidGenerator guidGenerator)
    {
        _emailTemplateRepository = emailTemplateRepository;
        _guidGenerator = guidGenerator;
    }
    
    #endregion
    
    
    public async Task SeedAsync(DataSeedContext context)
    {
        // Check if templates already exist
        if (await _emailTemplateRepository.GetCountAsync() > 0)
        {
            return;
        }

        // Seed email templates
        var templates = new[]
        {
            new EmailTemplate(
                _guidGenerator.Create(),
                Enums.EmailType.TicketCreated,
                Enums.TemplateType.Email,
                "Ticket Created Notification",
                "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Ticket Created - {{ CompanyName }}</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f4f4f4;\n        }\n        .container {\n            background-color: #ffffff;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            border-bottom: 3px solid #28a745;\n            padding-bottom: 20px;\n            margin-bottom: 30px;\n        }\n        .header h1 {\n            color: #28a745;\n            margin: 0;\n            font-size: 28px;\n        }\n        .success-badge {\n            display: inline-block;\n            background-color: #28a745;\n            color: white;\n            padding: 8px 16px;\n            border-radius: 20px;\n            font-size: 14px;\n            font-weight: bold;\n            margin: 10px 0;\n        }\n        .ticket-info {\n            background-color: #f8f9fa;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n        }\n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 10px 0;\n            padding: 8px 0;\n            border-bottom: 1px solid #e9ecef;\n        }\n        .info-row:last-child {\n            border-bottom: none;\n        }\n        .info-label {\n            font-weight: bold;\n            color: #495057;\n        }\n        .info-value {\n            color: #212529;\n        }\n        .welcome-section {\n            background-color: #e8f5e8;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #28a745;\n        }\n        .next-steps {\n            background-color: #fff4e6;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #ff6b35;\n        }\n        .contact-info {\n            background-color: #f0f8ff;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #007bff;\n        }\n        .btn {\n            display: inline-block;\n            background-color: #28a745;\n            color: white;\n            padding: 12px 24px;\n            text-decoration: none;\n            border-radius: 6px;\n            font-weight: bold;\n            margin: 20px 0;\n        }\n        .btn:hover {\n            background-color: #218838;\n        }\n        .footer {\n            text-align: center;\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 1px solid #e9ecef;\n            color: #6c757d;\n            font-size: 14px;\n        }\n        .priority-high { color: #dc3545; font-weight: bold; }\n        .priority-medium { color: #ffc107; font-weight: bold; }\n        .priority-low { color: #28a745; font-weight: bold; }\n        .status-open { color: #6c757d; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>\ud83c\udfab Ticket Created</h1>\n            <div class=\"success-badge\">Successfully Created</div>\n        </div>\n\n        <p>Hello <strong>{{ UserName }}</strong>,</p>\n        \n        <p>Thank you for contacting us! Your support ticket has been successfully created and we're here to help.</p>\n\n        <div class=\"welcome-section\">\n            <h3>\ud83c\udf89 Welcome to Our Support System</h3>\n            <p>We've received your request and our team will review it shortly. You can track the progress of your ticket using the information below.</p>\n        </div>\n\n        <div class=\"ticket-info\">\n            <h3>\ud83d\udccb Your Ticket Details</h3>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Ticket ID:</span>\n                <span class=\"info-value\"><strong>{{ TicketId }}</strong></span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Title:</span>\n                <span class=\"info-value\">{{ TicketName }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Description:</span>\n                <span class=\"info-value\">{{ TicketDescription }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Priority:</span>\n                <span class=\"info-value priority-{{ Priority | string.downcase }}\">{{ Priority }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Status:</span>\n                <span class=\"info-value status-{{ Status | string.downcase }}\">{{ Status }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Created:</span>\n                <span class=\"info-value\">{{ CreatedDate }} at {{ CreatedTime }}</span>\n            </div>\n        </div>\n\n        <div class=\"next-steps\">\n            <h3>\ud83d\udcdd What Happens Next?</h3>\n            <ul>\n                <li><strong>Immediate:</strong> Your ticket has been logged in our system</li>\n                <li><strong>Within 1 hour:</strong> A support agent will be assigned to your ticket</li>\n                <li><strong>Within 4 hours:</strong> You'll receive an initial response from our team</li>\n                <li><strong>Ongoing:</strong> We'll keep you updated on progress via email</li>\n            </ul>\n            <p><strong>Estimated Resolution Time:</strong> {{ EstimatedResolutionTime }}</p>\n        </div>\n\n        <div class=\"contact-info\">\n            <h3>\ud83d\udcde Need Immediate Help?</h3>\n            <p>If this is an urgent issue, please don't hesitate to contact us directly:</p>\n            <p>\n                <strong>Support Email:</strong> {{ SupportEmail }}<br>\n                <strong>Support Phone:</strong> {{ SupportPhone }}<br>\n                <strong>Emergency Hotline:</strong> {{ EmergencyPhone }}\n            </p>\n            <p><em>Please reference your Ticket ID: <strong>{{ TicketId }}</strong></em></p>\n        </div>\n\n        <div style=\"text-align: center;\">\n            <a href=\"{{ ActionUrl }}\" class=\"btn\">View Your Ticket</a>\n        </div>\n\n        <div class=\"footer\">\n            <p>This email was sent by {{ CompanyName }} Support System</p>\n            <p>We're committed to providing you with excellent support. Thank you for choosing us!</p>\n        </div>\n    </div>\n</body>\n</html>\n"
            ),
            new EmailTemplate(
                _guidGenerator.Create(),
                Enums.EmailType.TicketUpdated,
                Enums.TemplateType.Email,
                "Ticket Updated Notification",
                "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Ticket Update - {{ CompanyName }}</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f4f4f4;\n        }\n        .container {\n            background-color: #ffffff;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            border-bottom: 3px solid #ff6b35;\n            padding-bottom: 20px;\n            margin-bottom: 30px;\n        }\n        .header h1 {\n            color: #ff6b35;\n            margin: 0;\n            font-size: 28px;\n        }\n        .update-badge {\n            display: inline-block;\n            background-color: #ff6b35;\n            color: white;\n            padding: 8px 16px;\n            border-radius: 20px;\n            font-size: 14px;\n            font-weight: bold;\n            margin: 10px 0;\n        }\n        .ticket-info {\n            background-color: #f8f9fa;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n        }\n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 10px 0;\n            padding: 8px 0;\n            border-bottom: 1px solid #e9ecef;\n        }\n        .info-row:last-child {\n            border-bottom: none;\n        }\n        .info-label {\n            font-weight: bold;\n            color: #495057;\n        }\n        .info-value {\n            color: #212529;\n        }\n        .update-details {\n            background-color: #fff4e6;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #ff6b35;\n        }\n        .change-highlight {\n            background-color: #fff4e6;\n            padding: 15px;\n            border-radius: 6px;\n            margin: 15px 0;\n            border-left: 4px solid #ff6b35;\n        }\n        .next-steps {\n            background-color: #e8f5e8;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #28a745;\n        }\n        .contact-info {\n            background-color: #f0f8ff;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #007bff;\n        }\n        .btn {\n            display: inline-block;\n            background-color: #ff6b35;\n            color: white;\n            padding: 12px 24px;\n            text-decoration: none;\n            border-radius: 6px;\n            font-weight: bold;\n            margin: 20px 0;\n        }\n        .btn:hover {\n            background-color: #e55a2b;\n        }\n        .footer {\n            text-align: center;\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 1px solid #e9ecef;\n            color: #6c757d;\n            font-size: 14px;\n        }\n        .priority-high { color: #dc3545; font-weight: bold; }\n        .priority-medium { color: #ffc107; font-weight: bold; }\n        .priority-low { color: #28a745; font-weight: bold; }\n        .status-open { color: #6c757d; }\n        .status-inprogress { color: #007bff; }\n        .status-resolved { color: #28a745; }\n        .status-closed { color: #6c757d; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>\ud83d\udd14 Ticket Update</h1>\n            <div class=\"update-badge\">{{ UpdateType }}</div>\n        </div>\n\n        <p>Hello <strong>{{ UserName }}</strong>,</p>\n        \n        <p>Your support ticket has been updated. Here are the details:</p>\n\n        <div class=\"ticket-info\">\n            <h3>\ud83d\udccb Ticket Information</h3>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Ticket ID:</span>\n                <span class=\"info-value\"><strong>{{ TicketId }}</strong></span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Title:</span>\n                <span class=\"info-value\">{{ TicketName }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Description:</span>\n                <span class=\"info-value\">{{ TicketDescription }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Created:</span>\n                <span class=\"info-value\">{{ TicketCreatedDate }} ({{ DaysSinceCreated }} days ago)</span>\n            </div>\n        </div>\n\n        <div class=\"update-details\">\n            <h3>\ud83d\udd04 Update Details</h3>\n            <div class=\"change-highlight\">\n                <strong>What Changed:</strong> {{ UpdateType }}<br>\n                <strong>Previous Value:</strong> {{ PreviousValue }}<br>\n                <strong>New Value:</strong> {{ NewValue }}<br>\n                <strong>Updated:</strong> {{ UpdateDate }} at {{ UpdateTime }}\n            </div>\n        </div>\n\n        <div class=\"ticket-info\">\n            <h3>\ud83d\udcca Current Status</h3>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Status:</span>\n                <span class=\"info-value status-{{ CurrentStatus | string.downcase }}\">{{ CurrentStatus }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Priority:</span>\n                <span class=\"info-value priority-{{ CurrentPriority | string.downcase }}\">{{ CurrentPriority }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Assigned Support Agent:</span>\n                <span class=\"info-value\">{{ AssignedSupportAgent }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Assigned Technician:</span>\n                <span class=\"info-value\">{{ AssignedTechnician }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Estimated Resolution:</span>\n                <span class=\"info-value\">{{ EstimatedResolutionTime }}</span>\n            </div>\n        </div>\n\n        <div class=\"next-steps\">\n            <h3>\ud83d\udcdd What's Next?</h3>\n            <p>{{ NextSteps }}</p>\n        </div>\n\n        <div class=\"contact-info\">\n            <h3>\ud83d\udcde Need Help?</h3>\n            <p>{{ ContactInstructions }}</p>\n            <p>\n                <strong>Support Email:</strong> {{ SupportEmail }}<br>\n                <strong>Support Phone:</strong> {{ SupportPhone }}\n            </p>\n        </div>\n\n        <div style=\"text-align: center;\">\n            <a href=\"{{ ActionUrl }}\" class=\"btn\">View Ticket Details</a>\n        </div>\n\n        <div class=\"footer\">\n            <p>This email was sent by {{ CompanyName }} Support System</p>\n            <p>If you have any questions, please don't hesitate to contact us.</p>\n        </div>\n    </div>\n</body>\n</html>\n"
            ),
            new EmailTemplate(
                _guidGenerator.Create(),
                Enums.EmailType.CustomerRegistration,
                Enums.TemplateType.Email,
                "Welcome Email",
                "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Welcome to {{ CompanyName }}!</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f4f4f4;\n        }\n        .container {\n            background-color: #ffffff;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            border-bottom: 3px solid #007bff;\n            padding-bottom: 20px;\n            margin-bottom: 30px;\n        }\n        .header h1 {\n            color: #007bff;\n            margin: 0;\n            font-size: 28px;\n        }\n        .welcome-badge {\n            display: inline-block;\n            background-color: #007bff;\n            color: white;\n            padding: 8px 16px;\n            border-radius: 20px;\n            font-size: 14px;\n            font-weight: bold;\n            margin: 10px 0;\n        }\n        .welcome-section {\n            background-color: #e3f2fd;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #007bff;\n        }\n        .account-info {\n            background-color: #f8f9fa;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n        }\n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 10px 0;\n            padding: 8px 0;\n            border-bottom: 1px solid #e9ecef;\n        }\n        .info-row:last-child {\n            border-bottom: none;\n        }\n        .info-label {\n            font-weight: bold;\n            color: #495057;\n        }\n        .info-value {\n            color: #212529;\n        }\n        .features-section {\n            background-color: #e8f5e8;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #28a745;\n        }\n        .next-steps {\n            background-color: #fff4e6;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #ff6b35;\n        }\n        .contact-info {\n            background-color: #f0f8ff;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #007bff;\n        }\n        .btn {\n            display: inline-block;\n            background-color: #007bff;\n            color: white;\n            padding: 12px 24px;\n            text-decoration: none;\n            border-radius: 6px;\n            font-weight: bold;\n            margin: 20px 0;\n        }\n        .btn:hover {\n            background-color: #0056b3;\n        }\n        .footer {\n            text-align: center;\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 1px solid #e9ecef;\n            color: #6c757d;\n            font-size: 14px;\n        }\n        .feature-list {\n            list-style: none;\n            padding: 0;\n        }\n        .feature-list li {\n            padding: 8px 0;\n            border-bottom: 1px solid #e9ecef;\n        }\n        .feature-list li:last-child {\n            border-bottom: none;\n        }\n        .feature-icon {\n            margin-right: 10px;\n            font-size: 16px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>\ud83c\udf89 Welcome to {{ CompanyName }}!</h1>\n            <div class=\"welcome-badge\">Account Created Successfully</div>\n        </div>\n\n        <p>Hello <strong>{{ UserName }}</strong>,</p>\n        \n        <p>Welcome to {{ CompanyName }}! We're excited to have you as part of our community. Your account has been successfully created and you're ready to get started.</p>\n\n        <div class=\"welcome-section\">\n            <h3>\ud83c\udf1f Thank You for Joining Us!</h3>\n            <p>We're thrilled to have you on board. Our team is committed to providing you with the best possible experience and support.</p>\n        </div>\n\n        <div class=\"account-info\">\n            <h3>\ud83d\udc64 Your Account Information</h3>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Username/Email:</span>\n                <span class=\"info-value\"><strong>{{ UserEmail }}</strong></span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Account Type:</span>\n                <span class=\"info-value\">{{ UserType }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Registration Date:</span>\n                <span class=\"info-value\">{{ RegistrationDate }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Account Status:</span>\n                <span class=\"info-value\" style=\"color: #28a745; font-weight: bold;\">Active</span>\n            </div>\n        </div>\n\n        <div class=\"features-section\">\n            <h3>\ud83d\ude80 What You Can Do Now</h3>\n            <ul class=\"feature-list\">\n                <li><span class=\"feature-icon\">\ud83c\udfab</span> Create and manage support tickets</li>\n                <li><span class=\"feature-icon\">\ud83d\udcca</span> Track your service plans and subscriptions</li>\n                <li><span class=\"feature-icon\">\ud83d\udcac</span> Communicate with our support team</li>\n                <li><span class=\"feature-icon\">\ud83d\udcf1</span> Access your account from any device</li>\n                <li><span class=\"feature-icon\">\ud83d\udd14</span> Receive real-time notifications</li>\n                <li><span class=\"feature-icon\">\ud83d\udcc8</span> View your account history and reports</li>\n            </ul>\n        </div>\n\n        <div class=\"next-steps\">\n            <h3>\ud83d\udcdd Getting Started</h3>\n            <ol>\n                <li><strong>Complete Your Profile:</strong> Add your contact information and preferences</li>\n                <li><strong>Explore the Dashboard:</strong> Familiarize yourself with the interface</li>\n                <li><strong>Create Your First Ticket:</strong> If you need assistance, don't hesitate to reach out</li>\n                <li><strong>Set Up Notifications:</strong> Choose how you'd like to receive updates</li>\n            </ol>\n        </div>\n\n        <div class=\"contact-info\">\n            <h3>\ud83d\udcde Need Help Getting Started?</h3>\n            <p>Our support team is here to help you every step of the way:</p>\n            <p>\n                <strong>Support Email:</strong> {{ SupportEmail }}<br>\n                <strong>Support Phone:</strong> {{ SupportPhone }}<br>\n                <strong>Live Chat:</strong> Available 24/7 on our website\n            </p>\n            <p><em>We typically respond within 2 hours during business hours.</em></p>\n        </div>\n\n        <div style=\"text-align: center;\">\n            <a href=\"{{ LoginUrl }}\" class=\"btn\">Access Your Account</a>\n        </div>\n\n        <div class=\"footer\">\n            <p>This email was sent by {{ CompanyName }} Welcome System</p>\n            <p>Thank you for choosing us. We look forward to serving you!</p>\n        </div>\n    </div>\n</body>\n</html>\n"
            ),
            new EmailTemplate(
                _guidGenerator.Create(),
                Enums.EmailType.Confirmation,
                Enums.TemplateType.Email,
                "Email Confirmation",
                "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>{{ ActionType }} Confirmation - {{ CompanyName }}</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #f4f4f4;\n        }\n        .container {\n            background-color: #ffffff;\n            padding: 30px;\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .header {\n            text-align: center;\n            border-bottom: 3px solid #6f42c1;\n            padding-bottom: 20px;\n            margin-bottom: 30px;\n        }\n        .header h1 {\n            color: #6f42c1;\n            margin: 0;\n            font-size: 28px;\n        }\n        .confirmation-badge {\n            display: inline-block;\n            background-color: #6f42c1;\n            color: white;\n            padding: 8px 16px;\n            border-radius: 20px;\n            font-size: 14px;\n            font-weight: bold;\n            margin: 10px 0;\n        }\n        .confirmation-section {\n            background-color: #f3e5f5;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #6f42c1;\n        }\n        .action-details {\n            background-color: #f8f9fa;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n        }\n        .info-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 10px 0;\n            padding: 8px 0;\n            border-bottom: 1px solid #e9ecef;\n        }\n        .info-row:last-child {\n            border-bottom: none;\n        }\n        .info-label {\n            font-weight: bold;\n            color: #495057;\n        }\n        .info-value {\n            color: #212529;\n        }\n        .next-steps {\n            background-color: #e8f5e8;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #28a745;\n        }\n        .important-notice {\n            background-color: #fff3cd;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #ffc107;\n        }\n        .contact-info {\n            background-color: #f0f8ff;\n            padding: 20px;\n            border-radius: 8px;\n            margin: 20px 0;\n            border-left: 4px solid #007bff;\n        }\n        .btn {\n            display: inline-block;\n            background-color: #6f42c1;\n            color: white;\n            padding: 12px 24px;\n            text-decoration: none;\n            border-radius: 6px;\n            font-weight: bold;\n            margin: 20px 0;\n        }\n        .btn:hover {\n            background-color: #5a32a3;\n        }\n        .footer {\n            text-align: center;\n            margin-top: 30px;\n            padding-top: 20px;\n            border-top: 1px solid #e9ecef;\n            color: #6c757d;\n            font-size: 14px;\n        }\n        .action-icon {\n            font-size: 24px;\n            margin-right: 10px;\n        }\n        .status-active { color: #28a745; font-weight: bold; }\n        .status-pending { color: #ffc107; font-weight: bold; }\n        .status-suspended { color: #dc3545; font-weight: bold; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>\ud83d\udd14 {{ ActionType }} Request</h1>\n            <div class=\"confirmation-badge\">Confirmation Required</div>\n        </div>\n\n        <p>Hello <strong>{{ UserName }}</strong>,</p>\n        \n        <p>You have requested to {{ ActionType }}. Please review the details below and confirm your action to proceed.</p>\n\n        <div class=\"confirmation-section\">\n            <h3><span class=\"action-icon\">\ud83d\udd14</span> Action Request</h3>\n            <p><strong>Action Type:</strong> {{ ActionType }}</p>\n            <p><strong>Status:</strong> <span class=\"status-pending\">Pending Your Confirmation</span></p>\n            <p><strong>Requested On:</strong> {{ RequestDate }} at {{ RequestTime }}</p>\n        </div>\n\n        <div class=\"action-details\">\n            <h3>\ud83d\udccb Action Details</h3>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Action Type:</span>\n                <span class=\"info-value\">{{ ActionType }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Action Details:</span>\n                <span class=\"info-value\">{{ ActionDetails }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">User Account:</span>\n                <span class=\"info-value\">{{ UserEmail }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Request Date:</span>\n                <span class=\"info-value\">{{ RequestDate }}</span>\n            </div>\n            <div class=\"info-row\">\n                <span class=\"info-label\">Confirmation Date:</span>\n                <span class=\"info-value\">{{ ConfirmationDate }}</span>\n            </div>\n        </div>\n\n        <div class=\"next-steps\">\n            <h3>\ud83d\udcdd What Happens Next?</h3>\n            <ul>\n                <li><strong>Step 1:</strong> Click the \"Confirm Action\" button below to proceed</li>\n                <li><strong>Step 2:</strong> Your {{ ActionType }} will be processed immediately</li>\n                <li><strong>Step 3:</strong> You'll receive a confirmation email once completed</li>\n                <li><strong>Step 4:</strong> Changes will be reflected in your account</li>\n            </ul>\n            <p><strong>\u23f0 Important:</strong> This confirmation link will expire in {{ ExpirationTime }}.</p>\n        </div>\n\n        <div class=\"important-notice\">\n            <h3>\u26a0\ufe0f Important Information</h3>\n            <p><strong>Please Note:</strong> {{ ImportantNotice }}</p>\n            <p><strong>Security:</strong> If you did not request this {{ ActionType }}, please do not click the confirmation button and contact our support team immediately.</p>\n            <p><strong>Expiration:</strong> This confirmation link will expire in {{ ExpirationTime }} for security reasons.</p>\n        </div>\n\n        <div class=\"contact-info\">\n            <h3>\ud83d\udcde Questions or Concerns?</h3>\n            <p>If you have any questions about this {{ ActionType }} or need assistance:</p>\n            <p>\n                <strong>Support Email:</strong> {{ SupportEmail }}<br>\n                <strong>Support Phone:</strong> {{ SupportPhone }}<br>\n                <strong>Reference ID:</strong> {{ ReferenceId }}\n            </p>\n            <p><em>Please include your reference ID when contacting support.</em></p>\n        </div>\n\n        <div style=\"text-align: center;\">\n            <a href=\"{{ ConfirmationUrl }}\" class=\"btn\">\u2705 Confirm {{ ActionType }}</a>\n            <br><br>\n            <a href=\"{{ CancelUrl }}\" style=\"color: #6c757d; text-decoration: none; font-size: 14px;\">Cancel this request</a>\n        </div>\n\n        <div class=\"footer\">\n            <p>This email was sent by {{ CompanyName }} Confirmation System</p>\n            <p>Thank you for using our services. We appreciate your business!</p>\n        </div>\n    </div>\n</body>\n</html>\n"
            )
        };

        foreach (var template in templates)
        {
            await _emailTemplateRepository.InsertAsync(template);
        }
    }
}