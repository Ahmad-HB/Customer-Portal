<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summary Report</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.5;
            color: #2c3e50;
            background: white;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border: 2px solid #e9ecef;
            overflow: hidden;
        }

        .header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
            border-bottom: 4px solid #1a252f;
        }

        .header h1 {
            font-size: 2.8rem;
            font-weight: 800;
            margin: 0 0 12px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            letter-spacing: 1px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 300;
            margin: 0;
            letter-spacing: 0.5px;
        }

        .content {
            padding: 30px;
            background: #ffffff;
        }

        .period-section {
            background: #3498db;
            color: white;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
            border: 3px solid #2980b9;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .period-section h2 {
            font-size: 1.6rem;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
            letter-spacing: 0.5px;
        }

        .period-dates {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .date-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 18px 30px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 8px;
        }

        .date-item strong {
            display: block;
            font-size: 0.95rem;
            margin-bottom: 8px;
            opacity: 0.9;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .date-item span {
            font-size: 1.3rem;
            font-weight: 800;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .metric-card {
            background: white;
            padding: 25px;
            text-align: center;
            border: 3px solid #e9ecef;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2980b9);
        }

        .metric-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
            filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.1));
        }

        .metric-value {
            font-size: 2.8rem;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 10px;
            line-height: 1;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .metric-label {
            font-size: 0.95rem;
            color: #7f8c8d;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stats-section {
            background: #f8f9fa;
            padding: 30px;
            margin-bottom: 25px;
            border: 3px solid #e9ecef;
            border-radius: 8px;
        }

        .stats-section h2 {
            color: #2c3e50;
            font-size: 1.7rem;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 700;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
            letter-spacing: 0.5px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            background: white;
            padding: 22px;
            border: 2px solid #dee2e6;
            border-left: 5px solid #3498db;
            border-radius: 6px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
        }

        .stat-item strong {
            color: #3498db;
            display: block;
            font-size: 0.9rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-weight: 700;
        }

        .stat-item .value {
            font-size: 1.8rem;
            font-weight: 800;
            color: #2c3e50;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .performance-section {
            background: #e67e22;
            color: white;
            padding: 30px;
            text-align: center;
            border: 3px solid #d35400;
            border-radius: 8px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .performance-section h2 {
            font-size: 1.7rem;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            letter-spacing: 0.5px;
        }

        .performance-text {
            font-size: 1.1rem;
            line-height: 1.7;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto;
            font-weight: 400;
        }

        .footer {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 0.95rem;
            border-top: 4px solid #1a252f;
        }

        .footer p {
            margin-bottom: 5px;
        }

        .footer .copyright {
            opacity: 0.9;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .footer .generated {
            opacity: 0.8;
            font-size: 0.9rem;
            font-weight: 400;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .period-dates {
                flex-direction: column;
                gap: 15px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 20px;
            }
        }

        /* Print Styles */
        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            body {
                background: white !important;
                padding: 0;
                margin: 0;
            }
            
            .container {
                box-shadow: none !important;
                border-radius: 0 !important;
                border: none !important;
                margin: 0 !important;
                max-width: none !important;
            }
            
            .header, .period-section, .performance-section, .footer {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .metric-card, .stat-item {
                break-inside: avoid;
                page-break-inside: avoid;
            }
        }
        
        /* PDF-specific optimizations */
        @page {
            margin: 0.5in;
            size: A4;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“Š Summary Report</h1>
            <div class="subtitle">Executive Dashboard & Analytics</div>
        </div>
        
        <div class="content">
            <div class="period-section">
                <h2>ðŸ“… Report Period</h2>
                <div class="period-dates">
                    <div class="date-item">
                        <strong>Start Date</strong>
                        <span>{{ start_date }}</span>
                    </div>
                    <div class="date-item">
                        <strong>End Date</strong>
                        <span>{{ end_date }}</span>
                    </div>
                </div>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-icon">ðŸŽ«</div>
                    <div class="metric-value">{{ total_tickets }}</div>
                    <div class="metric-label">Total Tickets</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-icon">âœ…</div>
                    <div class="metric-value">{{ resolved_tickets }}</div>
                    <div class="metric-label">Resolved</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-icon">ðŸ”„</div>
                    <div class="metric-value">{{ in_progress_tickets }}</div>
                    <div class="metric-label">In Progress</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-icon">ðŸ”’</div>
                    <div class="metric-value">{{ closed_tickets }}</div>
                    <div class="metric-label">Closed</div>
                </div>
            </div>

            <div class="stats-section">
                <h2>ðŸ“ˆ Performance Metrics</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <strong>Resolution Rate</strong>
                        <div class="value">
                            {{ if total_tickets > 0 }}{{ resolved_tickets / total_tickets * 100 | math.round 1 }}{{ else }}0{{ end }}%
                        </div>
                    </div>
                    
                    <div class="stat-item">
                        <strong>Active Tickets</strong>
                        <div class="value">{{ in_progress_tickets }}</div>
                    </div>
                    
                    <div class="stat-item">
                        <strong>Completed Tickets</strong>
                        <div class="value">{{ resolved_tickets + closed_tickets }}</div>
                    </div>
                    
                    <div class="stat-item">
                        <strong>Completion Rate</strong>
                        <div class="value">
                            {{ if total_tickets > 0 }}{{ (resolved_tickets + closed_tickets) / total_tickets * 100 | math.round 1 }}{{ else }}0{{ end }}%
                        </div>
                    </div>
                </div>
            </div>

            <div class="performance-section">
                <h2>ðŸŽ¯ Performance Summary</h2>
                <div class="performance-text">
                    This comprehensive summary report provides detailed insights into support ticket activities for the specified period. 
                    The analytics reveal ticket distribution patterns, resolution efficiency, and overall team performance metrics. 
                    Use this data to identify trends, optimize workflows, and enhance customer support excellence.
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p class="copyright">&copy; 2025 Customer Portal. All rights reserved.</p>
            <p class="generated">Generated on {{ date.now }}</p>
        </div>
    </div>
</body>
</html>
